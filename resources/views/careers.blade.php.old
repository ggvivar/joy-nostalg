<!DOCTYPE html>
<html lang="{{ str_replace('_', '-', app()->getLocale()) }}">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Joy-Nostalg Group</title>

        <!-- Fonts -->
        <link rel="preconnect" href="https://fonts.bunny.net">
        <link href="https://fonts.bunny.net/css?family=figtree:400,500,600&display=swap" rel="stylesheet" />
        <style>
        @media (max-width: 992px) {
        .video-size {
            height: 480px;
            width: 854px ;
        }
        }
        @media (max-width: 576px) {
        .video-size {
            height: 240px !important;
            width: 426px !important;
        }
        
        }
        .position-relative {
            position: relative;
        }

        .overlay-caption {
            position: absolute;
            top:10%;
            left: 50%;
            transform: translateX(-50%);
            background-color: transparent   ;
            color: white;
            height: 128px;
            width: 237px;
            padding-left: 5px;
        }
        .overlay-caption h1 {
            margin:0;
        }
        .overlay-caption p {
            font-size:68px;
            margin: 0;
        }
        .table {
            border-collapse: collapse;
            width: 100%;
        }
        .table td {
            border: 1px solid black;
            padding: 8px;
            text-align: left;
        }
        .table th{
             background-color: #000000 !important; 
             color: white !important;
             text-align: center;
        }

        .pagination .page-link {
            font-size: 14px !important; /* Adjust font size */
            padding: 5px 10px !important; /* Adjust padding */
        }

        .pagination .page-item.active .page-link {
            background-color: #007bff !important; /* Active page color */
            border-color: #007bff !important; /* Active border color */
            color: white; /* Active text color */
        }
        </style>
    </head>
    <body class="font-sans antialiased dark:bg-black dark:text-white/50">
    @include('components.loader')
    @include('components.navbar')
    @include('components.carousel')
    <div class="container mt-5">
        
        <div class="d-flex justify-content-center align-items-center" style="">
        <div class="embed-responsive embed-responsive-16by9 ">
            <iframe class="embed-responsive-item justify-content-center video-size" src="https://www.youtube.com/embed/K4TOrB7at0Y" allowfullscreen style="height: 720px; width:1280px "></iframe>.
        </div>
        </div>
    </div>
    <div class="container">
        <h2 class="text-warning fw-bold  ">Be part of our mission.</h2>
        <p class="fs-5">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
        dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip
        ex ea commodo consequat.</p>
    </div>
    <div class="container">
    <div class="row mt-4 mb-4">
        <!-- <div class="col-sm-12 col-md-6 col-lg-4 mb-4 mt-4 position-relative">
            <img style="height:185px;width:340px;border-radius:20px;" class="d-block mx-auto" src="img/Photos/join_us/Join Us 3.png" alt="join_home">
            <div class="overlay-caption">
                <h1 class=" text-center">Joy~Nostalg</h1>
                <p class="fw-bold text-center">HOMES</p>
            </div>
        </div>
        <div class="col-sm-12 col-md-6 col-lg-4 mb-4 mt-4 position-relative">
            <img style="height:185px;width:340px;border-radius:20px;" class="d-block mx-auto" src="img/Photos/join_us/Join Us 4.png" alt="join_home">
            <div class="overlay-caption">
                <h1 class=" text-center">Joy~Nostalg</h1>
                <p class="fw-bold text-center">POWER</p>
            </div>
        </div>
        <div class="col-sm-12 col-md-6 col-lg-4 mb-4 mt-4 position-relative">
            <img style="height:185px;width:340px;border-radius:20px;" class="d-block mx-auto" src="img/Photos/join_us/Join Us 5.png" alt="join_home">
            <div class="overlay-caption">
                <h1 class=" text-center">Joy~Nostalg</h1>
                <p class="fw-bold text-center" style="font-size:50px; margin-left:-35px !important  ">HOSPITALITY</p>
            </div>
        </div>
        <div class="col-sm-12 col-md-6 col-lg-4 mb-4 mt-4 position-relative">
            <img style="height:185px;width:340px;border-radius:20px;" class="d-block mx-auto" src="img/Photos/join_us/Join Us 6.png" alt="join_home">
            <div class="overlay-caption">
                <h1 class=" text-center">Joy~Nostalg</h1>
                <p class="fw-bold text-center" style="font-size:65px; margin-left:-35px !important  ">CULINARY</p>
            </div>
        </div>
        <div class="col-sm-12 col-md-6 col-lg-4 mb-4 mt-4 position-relative">
            <img style="height:185px;width:340px;border-radius:20px;" class="d-block mx-auto" src="img/Photos/join_us/Join Us 7.png" alt="join_home">
            <div class="overlay-caption">
                <h1 class=" text-center">Joy~Nostalg</h1>
                <p class="fw-bold text-center" style="font-size:50px; margin-left:-45px !important  ">ENCLAVEWRX</p>
            </div>
        </div>
        <div class="col-sm-12 col-md-6 col-lg-4 mb-4 mt-4 position-relative">
            <img style="height:185px;width:340px;border-radius:20px;" class="d-block mx-auto" src="img/Photos/join_us/Join Us 8.png" alt="join_home">
            <div class="overlay-caption">
                <h1 class=" text-center">Joy~Nostalg</h1>
                <p class="fw-bold text-center" style="font-size:50px; margin-left:-35px !important  ">FOUNDATION</p>
            </div>
        </div> -->
    <div>
    </div>
    <div class="container">
        <h2 class="text-warning fw-bold  ">Current Openings</h2>
        <p class="fs-5 d-inline">Thanks for checking out our job openings. If you donâ€™t see any open positions, please submit your resume &
        we will get back to you if there are any suitable openings that match your profile.</p><a class="fs-5 d-inline" style="text-decoration: none;" 
          href="/join-us"> Apply here.</a>
    </div>
    @php
    use Illuminate\Pagination\LengthAwarePaginator;
    use App\Http\Controllers\PageController;

    $jobArray = PageController::getJobListing();

    $page = request()->get('page', 1);
    $perPage = request()->get('per_page', 25);
    $total = count($jobArray);

    $joblisting = new LengthAwarePaginator(
        array_slice($jobArray, ($page - 1) * $perPage, $perPage),
        $total,
        $perPage,
        $page,
        ['path' => request()->url(), 'query' => request()->query()]
    );
    @endphp

  <div>
    <div class="d-flex justify-content-between align-items-center mb-3 mt-3">
        <div>
            <h4 class="d-inline fw-bold fs-5">{{ $joblisting->total() }} results</h4>
        </div>
        <div class="d-flex align-items-center">
            <h4 class="d-inline fw-bold fs-5 me-2">Show</h4>
            <select id="perPage" class="form-select form-select-sm fw-bold " style="width: auto;" onchange="changePerPage()">
                <option value="5" {{ request('per_page') == 5 ? 'selected' : '' }}>5</option>
                <option value="10" {{ request('per_page') == 10 ? 'selected' : '' }}>10</option>
                <option value="25" {{ request('per_page') == 25 ? 'selected' : '' }}>25</option>
                <option value="50" {{ request('per_page') == 50 ? 'selected' : '' }}>50</option>
            </select>
        </div>
    </div>

    <table class="table">
        <thead>
            <tr>
                <th>Job Title</th>
                <th>Group</th>
                <th>Location</th>
                <th>Job Posted</th>
            </tr>
        </thead>
        <tbody>
            @foreach ($joblisting as $job)
                <tr>
                    <td>{{ $job['Job_Title'] }}</td>
                    <td>{{ $job['Group'] }}</td>
                    <td>{{ $job['Location'] }}</td>
                    <td>{{ $job['Job_Posted'] }}</td>
                </tr>
            @endforeach
        </tbody>
    </table>

    <!-- Pagination Links -->
    {{ $joblisting->appends(request()->query())->links('vendor.pagination.default') }}

    </div>
    </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    </body>
    <footer>
    @include('components.footer')
    </footer>
</html>
<script>
    function changePerPage() {
        const perPage = document.getElementById('perPage').value;
        const url = new URL(window.location.href);
        url.searchParams.set('per_page', perPage);
        url.searchParams.set('page', 1); // Reset to first page when per_page changes
        console.log('yes');
        window.location.href = url.toString();
    }
            window.addEventListener('load', () => {
            const loadingPopup = document.getElementById('loading-popup');
            const contentContainer = document.getElementById('content-container');
            loadingPopup.classList.add('hidden');
            contentContainer.style.display = 'block';
        });
    
</script>
